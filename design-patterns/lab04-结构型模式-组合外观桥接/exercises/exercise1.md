# 练习 1: 菜单系统 (组合模式)

## 难度
⭐⭐ (中等)

## 学习目标
- 掌握组合模式的实现
- 理解树形结构的构建和遍历
- 学会处理叶子节点和容器节点的统一接口

## 问题描述

设计并实现一个餐厅菜单系统，支持菜单项和子菜单的嵌套结构。系统需要能够：
1. 添加菜单项（如：宫保鸡丁、麻婆豆腐）
2. 添加子菜单（如：川菜、粤菜、湘菜）
3. 子菜单可以包含菜单项或其他子菜单
4. 统一显示整个菜单结构
5. 计算菜单或子菜单的总价格

## 功能要求

### 1. 菜单组件接口
定义一个 `MenuComponent` 接口，包含以下方法：
- `GetName() string` - 获取名称
- `GetPrice() float64` - 获取价格
- `Display(indent string)` - 显示菜单项
- `IsVegetarian() bool` - 是否为素食

### 2. 菜单项（叶子节点）
实现 `MenuItem` 结构体，表示具体的菜品：
- 包含名称、价格、描述、是否素食等属性
- 实现 `MenuComponent` 接口

### 3. 子菜单（容器节点）
实现 `Menu` 结构体，表示菜单分类：
- 可以包含多个 `MenuComponent`（菜单项或子菜单）
- 提供添加和删除组件的方法
- 计算子菜单的总价格（所有菜品价格之和）
- 递归显示所有子项

### 4. 额外功能
- 查找特定菜品
- 列出所有素食菜品
- 统计菜品总数

## 输入输出示例

### 示例 1: 构建菜单结构

**输入**:
```go
// 创建主菜单
mainMenu := NewMenu("餐厅菜单", "欢迎光临")

// 创建子菜单
sichuanMenu := NewMenu("川菜", "麻辣鲜香")
cantonMenu := NewMenu("粤菜", "清淡鲜美")

// 添加菜品
sichuanMenu.Add(NewMenuItem("宫保鸡丁", 38.0, "经典川菜", false))
sichuanMenu.Add(NewMenuItem("麻婆豆腐", 28.0, "麻辣豆腐", true))

cantonMenu.Add(NewMenuItem("白切鸡", 48.0, "清淡鸡肉", false))
cantonMenu.Add(NewMenuItem("清蒸鱼", 68.0, "新鲜海鱼", false))

// 构建菜单树
mainMenu.Add(sichuanMenu)
mainMenu.Add(cantonMenu)

// 显示菜单
mainMenu.Display("")
```

**输出**:
```
📋 餐厅菜单 - 欢迎光临
  📁 川菜 - 麻辣鲜香 (总价: ¥66.00)
    🍽️  宫保鸡丁 - ¥38.00
       描述: 经典川菜
    🥬 麻婆豆腐 - ¥28.00 [素食]
       描述: 麻辣豆腐
  📁 粤菜 - 清淡鲜美 (总价: ¥116.00)
    🍽️  白切鸡 - ¥48.00
       描述: 清淡鸡肉
    🍽️  清蒸鱼 - ¥68.00
       描述: 新鲜海鱼

菜单总价: ¥182.00
菜品总数: 4
```

### 示例 2: 查找素食菜品

**输入**:
```go
vegetarianItems := mainMenu.GetVegetarianItems()
```

**输出**:
```
素食菜品:
  - 麻婆豆腐 (¥28.00)
```

## 提示

💡 **提示 1**: 使用组合模式的关键是定义统一的接口，使叶子节点和容器节点可以一致处理。

💡 **提示 2**: 容器节点（Menu）需要维护一个子组件列表，并在操作时递归处理所有子组件。

💡 **提示 3**: 计算总价格时，叶子节点返回自己的价格，容器节点返回所有子组件价格之和。

💡 **提示 4**: 使用缩进参数（indent）可以清晰地显示树形结构的层次关系。

💡 **提示 5**: 在 Go 语言中，可以使用接口切片 `[]MenuComponent` 来存储不同类型的组件。

## 评分标准

- [ ] **功能完整性 (40%)**
  - 正确实现 MenuComponent 接口
  - MenuItem 和 Menu 都实现了接口
  - 支持嵌套的菜单结构
  - 正确计算总价格

- [ ] **代码质量 (30%)**
  - 代码结构清晰，命名规范
  - 适当的注释
  - 错误处理得当
  - 遵循 Go 语言编码规范

- [ ] **设计模式应用 (20%)**
  - 正确应用组合模式
  - 统一的组件接口
  - 透明性或安全性的权衡合理
  - 递归处理容器节点

- [ ] **额外功能 (10%)**
  - 实现查找功能
  - 实现素食筛选
  - 实现统计功能
  - 良好的用户体验

## 扩展挑战

如果你完成了基本要求，可以尝试以下扩展功能：

1. **价格计算增强**
   - 支持折扣（如：整个子菜单打 8 折）
   - 支持套餐价格（组合价格低于单点总价）

2. **搜索功能**
   - 按价格范围搜索
   - 按关键词搜索（名称或描述）
   - 按是否素食筛选

3. **菜单管理**
   - 支持菜品的启用/禁用
   - 支持菜品的库存管理
   - 支持菜品的评分和评论

4. **导出功能**
   - 导出为 JSON 格式
   - 导出为 Markdown 格式
   - 生成菜单报表

5. **迭代器模式集成**
   - 实现菜单的迭代器
   - 支持深度优先和广度优先遍历
