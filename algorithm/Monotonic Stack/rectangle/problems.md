# 二、矩形专题题目列表

## 📝 核心题目

### 1. [84. 柱状图中最大的矩形](https://leetcode.cn/problems/largest-rectangle-in-histogram/)
**难度**: 困难  
**标签**: 单调栈经典应用  
**描述**: 给定柱状图的柱子高度，求最大矩形面积  
**重要性**: ⭐⭐⭐⭐⭐ 必做题，矩形问题的基础

---

### 2. [1793. 好子数组的最大分数](https://leetcode.cn/problems/maximum-score-of-a-good-subarray/)
**难度**: 困难  
**题目难度**: 1946  
**标签**: 单调栈 + 双指针  
**描述**: 找到包含特定索引的子数组，使得分数最大  
**提示**: 类似 84 题，但有额外约束

---

### 3. [85. 最大矩形](https://leetcode.cn/problems/maximal-rectangle/)
**难度**: 困难  
**标签**: 单调栈 + 二维扩展  
**描述**: 在 0-1 矩阵中找到最大的全 1 矩形  
**重要性**: ⭐⭐⭐⭐⭐ 必做题，84 题的二维扩展  
**提示**: 将每一行看作柱状图的底部

---

### 4. [221. 最大正方形](https://leetcode.cn/problems/maximal-square/)
**难度**: 中等  
**标签**: 动态规划 / 单调栈  
**描述**: 在 0-1 矩阵中找到最大的全 1 正方形  
**提示**: 可以用 DP，也可以改造 85 题的方法

---

### 5. [42. 接雨水](https://leetcode.cn/problems/trapping-rain-water/)
**难度**: 困难  
**标签**: 单调栈 / 双指针 / DP  
**描述**: 计算凹凸不平的柱子能接多少雨水  
**重要性**: ⭐⭐⭐⭐⭐ 经典题，有多种解法  
**解法**:
  - 单调栈：按层接水
  - 双指针：从两侧向中间
  - DP：预处理左右最大值

---

### 6. [1504. 统计全 1 子矩形](https://leetcode.cn/problems/count-submatrices-with-all-ones/)
**难度**: 中等  
**标签**: 单调栈 + 计数  
**描述**: 统计二维矩阵中全 1 子矩形的个数  
**提示**: 枚举每一行作为底边，用单调栈计算贡献

---

### 7. [1277. 统计全为 1 的正方形子矩阵](https://leetcode.cn/problems/count-square-submatrices-with-all-ones/)
**难度**: 中等  
**标签**: 动态规划 / 单调栈  
**描述**: 统计二维矩阵中全 1 正方形的个数  
**提示**: DP 解法更简单，但也可以用单调栈

---

### 8. [755. 倒水](https://leetcode.cn/problems/pour-water/)
**难度**: 中等  
**标签**: 单调栈 + 模拟  
**会员题**  
**描述**: 模拟倒水过程

---

## 📊 学习进度

### 必做核心题目
- [ ] 84. 柱状图中最大的矩形 ⭐⭐⭐⭐⭐
- [ ] 85. 最大矩形 ⭐⭐⭐⭐⭐
- [ ] 42. 接雨水 ⭐⭐⭐⭐⭐

### 重要题目
- [ ] 1793. 好子数组的最大分数
- [ ] 221. 最大正方形
- [ ] 1504. 统计全 1 子矩形

### 扩展题目
- [ ] 1277. 统计全为 1 的正方形子矩阵
- [ ] 755. 倒水（会员题）

## 💡 学习路线

### 阶段一：掌握基础（必做）
1. **84. 柱状图中最大的矩形**
   - 理解单调栈如何找左右边界
   - 掌握面积计算方法
   - 时间复杂度优化到 O(n)

2. **42. 接雨水**
   - 学习三种解法：单调栈、双指针、DP
   - 理解按层接水 vs 按列接水
   - 对比不同解法的优劣

3. **85. 最大矩形**
   - 理解如何将二维问题转化为一维
   - 枚举每一行应用 84 题算法
   - 掌握高度数组的更新方法

### 阶段二：提升应用
4. **1793. 好子数组的最大分数**
   - 在 84 题基础上增加约束条件
   - 学习如何处理必须包含某个元素的情况

5. **1504. 统计全 1 子矩形**
   - 从求最大面积到统计数量
   - 理解贡献法的应用

### 阶段三：变体扩展
6. **221. 最大正方形**
   - 从矩形到正方形的约束变化
   - DP 和单调栈两种思路

7. **1277. 统计正方形子矩阵**
   - 结合 DP 的优化方法

## 🎯 解题技巧

### 一维柱状图
```
关键点：
1. 使用单调递增栈
2. 找到左右第一个更小的元素
3. 宽度 = right - left - 1
4. 面积 = height × width
```

### 二维矩形
```
关键点：
1. 枚举每一行作为底边
2. 累加上方连续的 1 形成高度数组
3. 对每个高度数组应用一维算法
4. 时间复杂度 O(mn)
```

### 接雨水
```
单调栈方法（按层）：
1. 维护单调递减栈（高度）
2. 遇到更高的柱子时计算积水
3. 积水高度由左右两侧较矮的决定

双指针方法（按列）：
1. 从两端向中间移动
2. 维护左右最大高度
3. 由较小的一侧决定当前位置积水
```

## 🔍 常见错误

1. **边界处理**: 忘记处理左右边界的哨兵
2. **宽度计算**: `right - left - 1` 不要算错
3. **高度更新**: 二维问题中高度数组的更新逻辑
4. **栈空判断**: 弹出元素前要检查栈是否为空

## 🔗 相关资源

- 回到 [矩形专题](README.md)
- 回到 [单调栈主页](../README.md)
- 继续学习 [贡献法](../contribution/README.md)

## 📚 参考题解

- [84 题详解](https://leetcode.cn/problems/largest-rectangle-in-histogram/solution/)
- [42 题多种解法](https://leetcode.cn/problems/trapping-rain-water/solution/)
- [85 题详解](https://leetcode.cn/problems/maximal-rectangle/solution/)
