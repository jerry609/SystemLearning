# Â§0.3 éåŽ†å¯¹è§’çº¿

## ðŸ“– æ ¸å¿ƒæ€æƒ³

åœ¨çŸ©é˜µé—®é¢˜ä¸­ï¼Œæœ‰æ—¶éœ€è¦**æŒ‰å¯¹è§’çº¿éåŽ†**è€Œä¸æ˜¯æŒ‰è¡Œæˆ–åˆ—éåŽ†ã€‚

### ä»€ä¹ˆæ˜¯å¯¹è§’çº¿ï¼Ÿ

åœ¨ m Ã— n çš„çŸ©é˜µä¸­ï¼š

#### ä¸»å¯¹è§’çº¿æ–¹å‘ï¼ˆâ†˜ï¼‰
- åŒä¸€å¯¹è§’çº¿ä¸Šçš„å…ƒç´ æ»¡è¶³ï¼š`i - j = å¸¸æ•°`
- ä¾‹å¦‚ï¼š(0,0), (1,1), (2,2), ...

#### å‰¯å¯¹è§’çº¿æ–¹å‘ï¼ˆâ†™ï¼‰
- åŒä¸€å¯¹è§’çº¿ä¸Šçš„å…ƒç´ æ»¡è¶³ï¼š`i + j = å¸¸æ•°`
- ä¾‹å¦‚ï¼š(0,2), (1,1), (2,0), ...

## ðŸ’¡ é€‚ç”¨åœºæ™¯

- å¯¹è§’çº¿æŽ’åº
- ç»Ÿè®¡å¯¹è§’çº¿ä¸Šçš„å…ƒç´ 
- å¯¹è§’çº¿ç›¸å…³çš„è®¡æ•°é—®é¢˜
- æœ€é•¿å¯¹è§’çº¿åºåˆ—

## ðŸ“ éåŽ†æ¨¡æ¿

### æ¨¡æ¿1: ä¸»å¯¹è§’çº¿éåŽ†ï¼ˆâ†˜ï¼‰

```python
def traverse_main_diagonals(matrix: List[List[int]]):
    """
    éåŽ†æ‰€æœ‰ä¸»å¯¹è§’çº¿ï¼ˆå·¦ä¸Šåˆ°å³ä¸‹ï¼‰
    åŒä¸€å¯¹è§’çº¿ï¼ši - j = k (å¸¸æ•°)
    """
    m, n = len(matrix), len(matrix[0])
    
    # k çš„èŒƒå›´ï¼š-(n-1) åˆ° (m-1)
    for k in range(-(n-1), m):
        diagonal = []
        
        # ç¡®å®šèµ·ç‚¹
        if k >= 0:
            i, j = k, 0  # ä»Žå·¦è¾¹ç•Œå¼€å§‹
        else:
            i, j = 0, -k  # ä»Žä¸Šè¾¹ç•Œå¼€å§‹
        
        # æ²¿å¯¹è§’çº¿ç§»åŠ¨
        while i < m and j < n:
            diagonal.append(matrix[i][j])
            i += 1
            j += 1
        
        # å¤„ç†è¿™æ¡å¯¹è§’çº¿
        process(diagonal)
```

### æ¨¡æ¿2: å‰¯å¯¹è§’çº¿éåŽ†ï¼ˆâ†™ï¼‰

```python
def traverse_anti_diagonals(matrix: List[List[int]]):
    """
    éåŽ†æ‰€æœ‰å‰¯å¯¹è§’çº¿ï¼ˆå³ä¸Šåˆ°å·¦ä¸‹ï¼‰
    åŒä¸€å¯¹è§’çº¿ï¼ši + j = k (å¸¸æ•°)
    """
    m, n = len(matrix), len(matrix[0])
    
    # k çš„èŒƒå›´ï¼š0 åˆ° m + n - 2
    for k in range(m + n - 1):
        diagonal = []
        
        # ç¡®å®šèµ·ç‚¹
        i = max(0, k - n + 1)  # è¡Œèµ·ç‚¹
        j = min(k, n - 1)      # åˆ—èµ·ç‚¹
        
        # æ²¿å¯¹è§’çº¿ç§»åŠ¨ï¼ˆå³ä¸Šåˆ°å·¦ä¸‹ï¼‰
        while i < m and j >= 0:
            diagonal.append(matrix[i][j])
            i += 1
            j -= 1
        
        # å¤„ç†è¿™æ¡å¯¹è§’çº¿
        process(diagonal)
```

### æ¨¡æ¿3: ä½¿ç”¨å“ˆå¸Œè¡¨æŒ‰å¯¹è§’çº¿åˆ†ç»„

```python
def group_by_diagonal(matrix: List[List[int]]):
    """
    å°†çŸ©é˜µå…ƒç´ æŒ‰å¯¹è§’çº¿åˆ†ç»„
    """
    m, n = len(matrix), len(matrix[0])
    
    # ä¸»å¯¹è§’çº¿åˆ†ç»„
    main_diag = {}
    for i in range(m):
        for j in range(n):
            key = i - j  # ä¸»å¯¹è§’çº¿çš„ç‰¹å¾
            if key not in main_diag:
                main_diag[key] = []
            main_diag[key].append(matrix[i][j])
    
    # å‰¯å¯¹è§’çº¿åˆ†ç»„
    anti_diag = {}
    for i in range(m):
        for j in range(n):
            key = i + j  # å‰¯å¯¹è§’çº¿çš„ç‰¹å¾
            if key not in anti_diag:
                anti_diag[key] = []
            anti_diag[key].append(matrix[i][j])
    
    return main_diag, anti_diag
```

## ðŸŽ¯ å…³é”®å…¬å¼

### ä¸»å¯¹è§’çº¿ï¼ˆâ†˜ï¼‰
```
åŒä¸€å¯¹è§’çº¿ï¼ši - j = k
å¯¹è§’çº¿ç¼–å· kï¼šèŒƒå›´ [-(n-1), m-1]

èµ·ç‚¹ç¡®å®šï¼š
  if k >= 0: (k, 0)
  if k < 0: (0, -k)

éåŽ†ï¼ši++, j++
```

### å‰¯å¯¹è§’çº¿ï¼ˆâ†™ï¼‰
```
åŒä¸€å¯¹è§’çº¿ï¼ši + j = k
å¯¹è§’çº¿ç¼–å· kï¼šèŒƒå›´ [0, m+n-2]

èµ·ç‚¹ç¡®å®šï¼š
  i_start = max(0, k - n + 1)
  j_start = min(k, n - 1)

éåŽ†ï¼ši++, j--
```

## ðŸ“Š å¤æ‚åº¦åˆ†æž

- **æ—¶é—´å¤æ‚åº¦**: O(m Ã— n) - æ¯ä¸ªå…ƒç´ è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**: O(min(m, n)) - å•æ¡å¯¹è§’çº¿çš„æœ€å¤§é•¿åº¦

## ðŸ’­ åº”ç”¨åœºæ™¯

### åœºæ™¯1: å¯¹è§’çº¿æŽ’åº
```python
# å¯¹æ¯æ¡å¯¹è§’çº¿åˆ†åˆ«æŽ’åº
for each diagonal:
    sort(diagonal)
    write_back(diagonal)
```

### åœºæ™¯2: ç»Ÿè®¡å¯¹è§’çº¿ç‰¹å¾
```python
# ç»Ÿè®¡æ¯æ¡å¯¹è§’çº¿çš„ä¸åŒå€¼æ•°é‡
for each diagonal:
    unique_count = len(set(diagonal))
```

### åœºæ™¯3: æŸ¥æ‰¾æœ€é•¿åºåˆ—
```python
# åœ¨å¯¹è§’çº¿ä¸ŠæŸ¥æ‰¾æœ€é•¿çš„è¿žç»­ 1 åºåˆ—
for each diagonal:
    max_len = find_max_consecutive_ones(diagonal)
```

## ðŸŽ“ å­¦ä¹ å»ºè®®

1. **ç†è§£åæ ‡å…³ç³»**: æŽŒæ¡ `i-j` å’Œ `i+j` çš„å«ä¹‰
2. **ç”»å›¾è¾…åŠ©**: åœ¨çº¸ä¸Šç”»å‡ºå¯¹è§’çº¿ï¼Œæ ‡è®°åæ ‡
3. **æ³¨æ„è¾¹ç•Œ**: èµ·ç‚¹å’Œç»ˆç‚¹çš„ç¡®å®šå¾ˆé‡è¦
4. **é€‰æ‹©æ–¹æ³•**: ç›´æŽ¥éåŽ† vs å“ˆå¸Œè¡¨åˆ†ç»„

## ðŸ”— ç›¸å…³èµ„æº

- [é¢˜ç›®åˆ—è¡¨](problems.md)
- å›žåˆ° [æžšä¸¾ä¸“é¢˜ä¸»é¡µ](../README.md)
